<div class="row" >
  <div class="col-12">
    <div class="row">
      <div class="col days bg-secondary">
        <button type="button" class="btn back" (click)="back()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left"
            viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
          </svg>
        </button>
      </div>
      <div class="col days bg-secondary" *ngFor="let d of days">
        <div *ngIf="d!=days[6]">
          {{ weekDays[d.getDay()] }} <br>{{d.toDateString().slice(4,10)}}
        </div>
          <button type="button" class="btn next" (click)="next()" *ngIf="d==days[6]">
            {{ weekDays[d.getDay()] }} <br>{{d.toDateString().slice(4,10)}}
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right"
              viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" />
            </svg>
          </button>
      </div>
    </div>
    <div class="row contenu" >
      <div class="col">
        <div class="hours bg-secondary" *ngFor="let h of hours">{{ h }} </div>
      </div>
      <div class="col " *ngFor="let d of days" style="background-color: #f0f0f0;">
        <hr *ngFor="let h of hours;let i=index"
          style="margin: 0px;position: relative;color:gris; opacity: 0.1; width: 100%;height: 1px;"
          [ngStyle]="{ 'top.px': i*59}" />
        <div *ngFor="let r of reservation; let i = index">
          <div class="col" *ngIf="r.date.toLocaleDateString() == d.toLocaleDateString()">
            <div class="alert alert-primary reservation " role="alert" [ngStyle]="{ 'top.px': getPosition(r)-16}" style="background-color:#1867d9 !important;color: #fff!important  ">
              {{ r.date.toLocaleTimeString().slice(0,5)}}-{{ r.date.getHours()+1 }}:{{ r.date.getMinutes()+30 }}
              <!-- {{r.date.toLocaleTimeString().slice(2,5) }} -->
              <hr style="margin: 0px;">
              <a href="#" class="alert-link " style="color: #fff!important ">{{r.joueur.nom}} {{r.joueur.prenom}}</a><br />
              <!-- Vs <br />
              <a href="#" class="alert-link">Maghrebi</a> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-12 mt-3">


<!-- <div class="" style="    height: 250px; 
overflow-y: scroll;">
    <table class="table table-striped table-hover">
      <thead >
        <tr >
          <th class="py-2">Reservation de</th>
          <th class="py-2">Date</th>
          <th class="py-2">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let r of reservation; let i = index">
          <th class="py-2">{{r.joueur.nom}} {{r.joueur.prenom}}</th>
          <th class="py-2">{{r.date.toDateString()}}</th>
          <th class="py-2">
            <button type="button" class="btn btn-danger btn-sm p-0 px-1" (click)="refuser(r._id)">
              <i class="bi bi-x-lg fs-5"></i>
            </button>
            <button type="button" class="btn btn-primary btn-sm mx-2 p-0 px-1" (click)="accepter(r._id)">
              <i class="bi bi-check-lg fs-5"></i>
            </button>
          </th>
        </tr>
      </tbody>
    </table>
  </div> -->
    <!-- <ul class="list-group contenu">
      <li class="list-group-item" *ngFor="let r of reservation; let i = index" >Reservation NÂ°{{i}}
        <button type="button" class="btn btn-primary btn-sm ms-1" style="color: white; padding: 0px;float: right;">
          <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" fill="currentColor" class="bi bi-check-lg"
            viewBox="0 0 16 16">
            <path
              d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z" />
          </svg>
        </button>
        <button type="button" class="btn btn-primary btn-sm " style="color: white; padding: 0px;float: right;">
          <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" fill="currentColor" class="bi bi-x-lg"
            viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z" />
            <path fill-rule="evenodd"
              d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z" />
          </svg>
        </button>
      </li>
    </ul> -->
    <div class="w-100 text-center">
      <button type="button" class="btn btn-success w-25 mb-5" data-bs-toggle="modal" data-bs-target="#exampleModal">Ajoute Reservation</button>
    </div>
  </div>
</div>



<div class="modal fade" style="position: absolute; left:auto; top:50%;" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" data-bs-backdrop="static" data-bs-keyboard="false" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header d-flex my-0">
              <h4 class="modal-title ms-auto fs-4 mb-0" id="exampleModalLabel">Reserver</h4>
              <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <form class="container" [formGroup]="ReservationForm" >
                <div class="mb-3">
                  <select class="form-select" formControlName="stadeId"> Stade
                    <option>Stade</option>
                      <option *ngFor="let s of stades" [value]="s._id" >{{s.nom}}</option>
                  </select>
              </div>
                  <div class="mb-3">
                      <label class="form-label">Date</label>
                      <input type="datetime-local" formControlName="date" 
                      [ngClass]="{ 'is-invalid':submitted&& ReservationForm.controls['date'].errors }"class="form-control">
                       <div *ngIf="submitted && ReservationForm.controls['date'].errors" class="invalid-feedback">
                          <div *ngIf="ReservationForm.controls['date'].errors['required']">Vouz devez entrer la date de votre reservation</div>
                      </div>
                  </div>
              </form>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
              <button type="button" class="btn btn-primary" (click)="reserver()" data-bs-dismiss="modal">Enregistrer</button>
          </div>
      </div>
  </div>
</div>